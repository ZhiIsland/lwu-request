import{_ as n,H as o,o as t,c as e,C as s,a,J as p,V as r}from"./chunks/framework.d7491e17.js";const k=JSON.parse('{"title":"DOWNLOAD","description":"","frontmatter":{},"headers":[],"relativePath":"api/download.md","filePath":"api/download.md"}'),c={name:"api/download.md"},d={id:"download",tabindex:"-1"},F=s("a",{class:"header-anchor",href:"#download","aria-label":'Permalink to "DOWNLOAD <Badge type="tip" text="已发布" />"'},"​",-1),y=s("p",null,"下载文件资源到本地，客户端直接发起一个 HTTP GET 请求，返回文件的本地临时路径。",-1),D=s("div",{class:"warning custom-block"},[s("p",{class:"custom-block-title"},"注意事项"),s("p",null,"在各个小程序平台运行时，网络相关的 API 在使用前需要配置域名白名单。在h5上是跨域的，开发者需要处理好跨域问题。")],-1),i=s("h2",{id:"请求参数",tabindex:"-1"},[a("请求参数 "),s("a",{class:"header-anchor",href:"#请求参数","aria-label":'Permalink to "请求参数"'},"​")],-1),A=s("table",null,[s("thead",null,[s("tr",null,[s("th",null,"参数名"),s("th",null,"类型"),s("th",null,"必填"),s("th",null,"说明"),s("th",null,"平台差异说明")])]),s("tbody",null,[s("tr",null,[s("td",null,"url"),s("td",null,[s("code",null,"String")]),s("td",null,"是"),s("td",null,"下载资源的 url"),s("td")]),s("tr",null,[s("td",null,"domain"),s("td",null,[s("code",null,"String")]),s("td",null,"否"),s("td",null,[a("下载服务器域名，设置该参数时 "),s("code",null,"全局配置"),a(" 的 "),s("code",null,"baseUrl"),a(" 将失效。")]),s("td")]),s("tr",null,[s("td",null,"header"),s("td",null,[s("code",null,"Object")]),s("td",null,"否"),s("td",null,"HTTP 请求 Header, header 中不能设置 Referer。"),s("td")]),s("tr",null,[s("td",null,"timeout"),s("td",null,[s("code",null,"Number")]),s("td",null,"否"),s("td",null,[a("超时时间，单位 ms，默认值为 "),s("code",null,"60000")]),s("td",null,"H5(HBuilderX 2.9.9+)、APP(HBuilderX 2.9.9+)、微信小程序、支付宝小程序、字节跳动小程序、快手小程序")]),s("tr",null,[s("td",null,"filePath"),s("td",null,[s("code",null,"String")]),s("td",null,"否"),s("td",null,"指定文件下载后存储的路径 (本地路径)"),s("td",null,"小程序端支持（微信IOS小程序保存到相册需要添加此字段才可以正常保存）")]),s("tr",null,[s("td",null,"success"),s("td",null,[s("code",null,"Function")]),s("td",null,"否"),s("td",{"tempFilePath:":"",文件的临时路径:""},"下载成功后以 tempFilePath 的形式传给页面，res ="),s("td")]),s("tr",null,[s("td",null,"fail"),s("td",null,[s("code",null,"Function")]),s("td",null,"否"),s("td",null,"接口调用失败的回调函数"),s("td")]),s("tr",null,[s("td",null,"complete"),s("td",null,[s("code",null,"Function")]),s("td",null,"否"),s("td",null,"接口调用结束的回调函数（调用成功、失败都会执行）"),s("td")])])],-1),C=r("",14);function u(h,f,m,b,g,_){const l=o("Badge");return t(),e("div",null,[s("h1",d,[a("DOWNLOAD "),p(l,{type:"tip",text:"已发布"}),a(),F]),y,D,i,A,C])}const w=n(c,[["render",u]]);export{k as __pageData,w as default};
